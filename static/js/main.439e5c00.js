(()=>{var e={63927:function(e,t,n){var r={"./en":"46952","./en.json":"46952","./fr":"45413","./fr.json":"45413"};function i(e){return n(o(e))}function o(e){if(!n.o(r,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=63927},63338:function(e,t,n){"use strict";var r=n(85893);n(78893),n(59507),n(98049);var i=n(67294),o=n(62330),s=n(16396),l=n.n(s),a=n(28802),c=n(22960),d=n(72339),u=n(24060),h=n(96122);let v=e=>{let{client:t,lang:n,polyglot:i,children:l}=e;return(0,r.jsx)(c.WebviewIntentProvider,{children:(0,r.jsx)(s.CozyProvider,{client:t,children:(0,r.jsx)(a.DataProxyProvider,{children:(0,r.jsx)(o.BarProvider,{children:(0,r.jsx)(h.I18n,{lang:n,polyglot:i,children:(0,r.jsx)(u.default,{children:(0,r.jsx)(d.BreakpointsProvider,{children:l})})})})})})})};var f=n(20745),x=n(71400),p=n(72916),g=n(79233),j=JSON.parse('{"u2":"Dataviewer","i8":"0.1.0"}');let m={},y=e=>{let t=JSON.parse(e.dataset.cozy),n=window.location.protocol,r=`${n}//${t.domain}`;return new(l())({uri:r,token:t.token,appMetadata:{slug:j.u2,version:j.i8},schema:m,store:!0})},b=(e,t)=>/^\{\{\..*\}\}$/.test(e)?t:e,w=()=>{var e;let t=document.querySelector("[role=application]"),r=(0,f.createRoot)(t),i=y(t),o=b(null===(e=JSON.parse(t.dataset.cozy))||void 0===e?void 0:e.locale,"en"),s=(0,g.QE)(o,e=>n(63927)(`./${e}`));return i.registerPlugin(x.default.plugin),i.registerPlugin(p.RealtimePlugin),{root:r,client:i,lang:o,polyglot:s}};var S=n(79655),O=n(26335),k=n(3163),D=n(32692),_=n(78727),z=n(32419),C=n(7243),N=n(4314),P=n(58438),M=n(40042);let Z=(0,P.ui)(S.NavLink),q=()=>{let e=(0,s.useClient)(),[t,n]=(0,i.useState)();return((0,i.useEffect)(()=>{(async()=>{n(await e.getStackClient().fetchJSON("GET","/data/_all_doctypes"))})()},[e]),void 0===t)?(0,r.jsx)("div",{className:"u-p-1",children:(0,r.jsx)(z.default,{icon:N.Z,spin:!0})}):(0,r.jsx)(M.Z,{children:(0,r.jsx)(P.ZP,{children:t.map(e=>(0,r.jsx)(P.LY,{children:(0,r.jsxs)(Z,{to:`/doctype/${e}`,children:[(0,r.jsx)(P.Dz,{icon:C.Z}),(0,r.jsx)(P.lh,{children:e})]})},e))})})},A=()=>{let{t:e}=(0,h.useI18n)(),{isMobile:t}=(0,d.default)(),n=(0,s.useClient)(),i=(0,x.default)("dataviewer.plrs");return(0,r.jsxs)(k.Ar,{children:[(0,r.jsx)(o.BarComponent,{searchOptions:{enabled:!0}}),!i&&(0,r.jsx)(q,{}),(0,r.jsx)(k.or,{children:(0,r.jsxs)(k.VY,{children:[t&&(0,r.jsx)(o.BarCenter,{children:(0,r.jsx)(D.default,{variant:"h5",children:n.appMetadata.slug})}),(0,r.jsx)(O.j3,{})]})}),(0,r.jsx)(_.Z,{t:e})]})};var R=n(70256),W=n(50085),E=n(8421),F=n(68366),I=n(62577),B=n(11234);let $=e=>(0,r.jsx)("div",{className:"default-formatter",children:e.map((e,t)=>(0,r.jsxs)(F.Z,{children:[(0,r.jsx)(B.Z,{children:e._id||"No ID"}),(0,r.jsx)(I.Z,{children:(0,r.jsx)("pre",{className:"u-m-1 u-ov-auto",children:JSON.stringify(e,null,2)})})]},e._id||t))});var L=n(41496);n(69325);let U=e=>{let{grouped:t}=e,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:52,t=[],n=new Date,r=new Date(n);r.setDate(n.getDate()-(n.getDay()-1+7)%7-(e-1)*7);for(let n=0;n<7*e;n++){let e=new Date(r);e.setDate(r.getDate()+n),t.push(e.toISOString().slice(0,10))}return t}(52),i=[];for(let e=0;e<n.length;e+=7)i.push(n.slice(e,e+7));let o=[],s=null;return i.forEach((e,t)=>{let n=e[0],r=new Date(n).getMonth();r!==s?(o[t]=new Date(n).toLocaleString("en-US",{month:"short"}),s=r):o[t]=""}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4,marginBottom:8,fontSize:12},children:[(0,r.jsx)("span",{children:"Less"}),(0,r.jsx)("div",{style:{width:12,height:12,background:"#fff",borderRadius:2,border:"1px solid #e5e7eb"}}),(0,r.jsx)("div",{style:{width:12,height:12,background:"#b6f2c1",borderRadius:2,border:"1px solid #e5e7eb"}}),(0,r.jsx)("div",{style:{width:12,height:12,background:"#6ee7a7",borderRadius:2,border:"1px solid #e5e7eb"}}),(0,r.jsx)("div",{style:{width:12,height:12,background:"#22c55e",borderRadius:2,border:"1px solid #e5e7eb"}}),(0,r.jsx)("div",{style:{width:12,height:12,background:"#15803d",borderRadius:2,border:"1px solid #e5e7eb"}}),(0,r.jsx)("span",{children:"More"})]}),(0,r.jsx)("div",{style:{display:"flex",flexDirection:"row",gap:2,marginLeft:0,marginBottom:2,fontSize:10,color:"#888"},children:o.map((e,t)=>(0,r.jsx)("div",{style:{width:12,textAlign:"center"},children:e},t))}),(0,r.jsx)("div",{style:{display:"flex",flexDirection:"row",gap:2,marginBottom:16},children:i.map((e,n)=>(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:2},children:e.map(e=>{var n;return(0,r.jsx)("div",{title:`${e}: ${t[e]||0} record(s)`,style:{width:12,height:12,background:(n=t[e])?1===n?"#b6f2c1":2===n?"#6ee7a7":n<=4?"#22c55e":"#15803d":"#fff",borderRadius:2,border:"1px solid #e5e7eb",boxSizing:"border-box"}},e)})},n))})]})},H={"io.cozy.jobs":e=>(0,r.jsx)("div",{className:"jobs-formatter",children:e.map((e,t)=>{var n,i;return(0,r.jsxs)(F.Z,{children:[(0,r.jsxs)(B.Z,{children:[e.worker," ",(null===(n=e.message)||void 0===n?void 0:n.slug)??(null===(i=e.message)||void 0===i?void 0:i.slug)," (",e.state,") - ",new Date(e.started_at).toLocaleString("fr-FR")]}),(0,r.jsx)(I.Z,{children:(0,r.jsx)("pre",{className:"u-m-1 u-ov-auto",children:JSON.stringify(e,null,2)})})]},e._id||t)})}),"io.cozy.learningrecords":(e,t)=>(0,r.jsx)(()=>{let[t,n]=(0,i.useState)(!1),[o,l]=(0,i.useState)([]),a=(0,s.useClient)();(0,i.useEffect)(()=>{(async()=>{let e=new Date;e.setMonth(0,1),e.setHours(0,0,0,0);let t=new Date;t.setMonth(11,31),t.setHours(23,59,59,999);let n=(0,s.Q)("io.cozy.learningrecords").where({"source.timestamp":{$gte:e.toISOString(),$lte:t.toISOString()}}).indexFields(["source.timestamp"]);l((await a.query(n)).data)})()},[a]);let c=function(e){let t={};for(let i of e){var n,r;let e=(null===(n=i.source)||void 0===n?void 0:n.timestamp)||(null===(r=i.cozyMetadata)||void 0===r?void 0:r.createdAt);if(!e)continue;let o=new Date(e).toISOString().slice(0,10);t[o]=(t[o]||0)+1}return t}(o),d=o.filter(e=>{var t,n,r,i,o,s,l,a;return((null===(r=e.source)||void 0===r?void 0:null===(n=r.verb)||void 0===n?void 0:null===(t=n.display)||void 0===t?void 0:t["en-US"])||(null===(s=e.source)||void 0===s?void 0:null===(o=s.verb)||void 0===o?void 0:null===(i=o.display)||void 0===i?void 0:i["fr-FR"])||(null===(a=e.source)||void 0===a?void 0:null===(l=a.verb)||void 0===l?void 0:l.id)||"").toLowerCase().includes("completed")}).length;return(0,r.jsxs)("div",{className:"jobs-formatter",children:[(0,r.jsx)("h1",{className:"u-mb-2",children:"Learning Records"}),(0,r.jsx)("div",{className:"u-mb-2",style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:(0,r.jsxs)("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"8px",padding:"16px",minWidth:"200px",textAlign:"center"},children:[(0,r.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#28a745"},children:d}),(0,r.jsx)("div",{style:{fontSize:"14px",color:"#6c757d",marginTop:"4px"},children:"Formations compl\xe9t\xe9es"})]})}),(0,r.jsx)(U,{grouped:c}),e.map((e,t)=>{var n,i,o,s,l,a,c,d,u;let h=(null===(o=e.source)||void 0===o?void 0:null===(i=o.verb)||void 0===i?void 0:null===(n=i.display)||void 0===n?void 0:n["en-US"])||(null===(l=e.source)||void 0===l?void 0:null===(s=l.verb)||void 0===s?void 0:s.id)||"Unknown verb",v=(null===(c=e.source)||void 0===c?void 0:null===(a=c.object)||void 0===a?void 0:a.name)||(null===(u=e.source)||void 0===u?void 0:null===(d=u.object)||void 0===d?void 0:d.id)||"Unknown object",f=`${h} ${v}`;return(0,r.jsxs)(F.Z,{children:[(0,r.jsx)(B.Z,{children:f}),(0,r.jsx)(I.Z,{children:(0,r.jsx)("pre",{className:"u-m-1 u-ov-auto",children:JSON.stringify(e,null,2)})})]},e._id||t)}),!1]})},{})},J=e=>H[e]||$,T=()=>{let{doctype:e}=(0,O.UO)(),[t,n]=(0,i.useState)(),[o,l]=(0,i.useState)(!0),[a,c]=(0,i.useState)(null),[d,u]=(0,i.useState)({currentPage:0,pageSize:10,totalCount:0}),h=(0,s.useClient)(),v=(0,x.default)("dataviewer.plrs"),f=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;l(!0),c(null);try{var r;let i=await h.query((0,s.Q)(e).limitBy(1)),o=(null===(r=i.meta)||void 0===r?void 0:r.count)||0,l=t*d.pageSize,a=(0,s.Q)(e).limitBy(d.pageSize).offset(l),c=await h.query(a);n(c.data),u({...d,currentPage:t,totalCount:o})}catch(e){console.error("Error fetching data",e),c(e.message||"An error occurred while fetching data"),n(null),u({...d,currentPage:0,totalCount:0})}finally{l(!1)}};if((0,i.useEffect)(()=>{f()},[h,e]),o&&!t)return(0,r.jsx)("div",{className:"u-p-1",children:(0,r.jsx)(z.default,{icon:N.Z,spin:!0})});let p=J(e),g=Math.ceil(d.totalCount/d.pageSize),j=d.currentPage*d.pageSize+1,m=Math.min((d.currentPage+1)*d.pageSize,d.totalCount),y=d.currentPage<g-1,b=d.currentPage>0;return(0,r.jsxs)("div",{className:"u-p-2",children:[v?null:(0,r.jsx)("h1",{children:e}),a&&(0,r.jsx)(R.ZP,{className:"u-mb-1",severity:"error",children:a}),o?(0,r.jsx)("div",{className:"u-p-1",children:(0,r.jsx)(z.default,{icon:N.Z,spin:!0})}):(0,r.jsxs)(r.Fragment,{children:[t&&p(t,f),!a&&t&&(0,r.jsxs)(E.Z,{className:"u-mt-1",spacing:"s",children:[(0,r.jsx)("div",{children:d.totalCount>0&&(0,r.jsxs)("div",{className:"u-ta-center",children:["Showing ",j," to ",m," of ",d.totalCount," ","documents"]})}),(0,r.jsxs)("div",{className:"u-flex u-flex-justify-center u-mt-half",children:[(0,r.jsx)(W.Z,{variant:"secondary",onClick:()=>{d.currentPage>0&&f(d.currentPage-1)},disabled:!b,className:"u-mr-1",children:"Previous"}),(0,r.jsx)(W.Z,{variant:"secondary",onClick:()=>{f(d.currentPage+1)},disabled:!y,children:"Next"})]})]})]})]})},Q=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:130,height:32,fill:"none",viewBox:"0 0 130 32",...e,children:[(0,r.jsx)("path",{fill:"url(#vision_svg__a)",d:"M15.07 31.047c8.323 0 15.07-6.737 15.07-15.047S23.394.954 15.07.954 0 7.691 0 16c0 8.31 6.747 15.047 15.07 15.047"}),(0,r.jsx)("path",{fill:"#17243F",d:"M22.992 11.906c-.795 0-1.469.65-1.469 1.445 0 .409.169.77.458 1.035l-4.478 10.328a.27.27 0 0 1-.24.144h-2.77c-.095 0-.192-.072-.24-.144l-7.03-16.13.024-.048h7.584a1.46 1.46 0 0 0 1.348.939c.794 0 1.468-.65 1.468-1.445 0-.794-.65-1.444-1.468-1.444-.626 0-1.156.385-1.348.939H7.27c-.36 0-.698.168-.89.481-.193.29-.217.674-.096 1.011l7.03 16.13c.192.457.673.77 1.179.77h2.768c.506 0 .963-.313 1.18-.77l4.478-10.352h.072c.794 0 1.468-.65 1.468-1.444 0-.795-.65-1.445-1.468-1.445"}),(0,r.jsx)("path",{fill:"#17243F",d:"m11.365 12.075 4.478 9.919 4.478-9.919zm1.59 1.011h5.825l-2.913 6.452z"}),(0,r.jsx)("path",{fill:"#fff",d:"M39.337 21.97c-.313-.169-.602-.433-.843-.843-.24-.385-.457-.939-.65-1.637l-2.817-9.822h2.456l2.648 9.774c.072.313.217.457.385.457.169 0 .313-.144.385-.457l2.648-9.774h2.456l-2.817 9.822c-.192.698-.409 1.228-.65 1.637-.24.385-.505.674-.842.843-.313.168-.722.24-1.18.24a2.25 2.25 0 0 1-1.18-.24M47.834 12.244a1.27 1.27 0 0 1-.385-.94c0-.36.12-.65.385-.914a1.22 1.22 0 0 1 .915-.385c.337 0 .65.12.915.385s.385.578.385.915c0 .361-.12.674-.385.939a1.22 1.22 0 0 1-.915.385 1.1 1.1 0 0 1-.915-.385m.12 8.931c-.24-.385-.336-.939-.336-1.637V13.76h2.263v5.706c0 .313.072.578.192.77q.18.29.65.65l-1.516 1.349c-.602-.313-1.011-.675-1.252-1.06M53.638 22.042c-.41-.12-.723-.289-.963-.506a5.7 5.7 0 0 1-.77-.866l1.396-1.204c.313.385.577.626.842.795.265.144.626.216 1.06.216.505 0 .866-.072 1.083-.192a.62.62 0 0 0 .337-.578c0-.265-.145-.457-.433-.602q-.434-.216-1.662-.433c-1.613-.313-2.431-1.204-2.431-2.673 0-.746.289-1.348.89-1.781.602-.433 1.373-.674 2.36-.674q1.227 0 1.95.361c.481.24.867.578 1.18 1.035l-1.397 1.204c-.313-.313-.578-.53-.818-.65a2.06 2.06 0 0 0-.915-.193c-.746 0-1.108.265-1.108.795 0 .24.12.433.386.553q.36.18.938.29c.723.168 1.3.336 1.71.505.433.169.77.433 1.06.794.288.361.432.867.432 1.493 0 .843-.288 1.468-.89 1.878s-1.493.602-2.673.602a5 5 0 0 1-1.564-.169M60.618 12.244a1.27 1.27 0 0 1-.386-.94c0-.36.12-.65.386-.914a1.22 1.22 0 0 1 .914-.385c.338 0 .65.12.915.385s.385.578.385.915c0 .361-.12.674-.385.939a1.22 1.22 0 0 1-.915.385c-.36.024-.65-.12-.914-.385m.144 8.931c-.24-.385-.337-.939-.337-1.637V13.76h2.263v5.706c0 .313.072.578.193.77q.18.29.65.65l-1.517 1.349c-.602-.313-1.011-.675-1.252-1.06M65.963 21.392c-.65-.554-.963-1.372-.963-2.407v-2.191c0-1.035.313-1.854.963-2.408s1.565-.842 2.793-.842c1.203 0 2.142.289 2.792.842.65.554.963 1.373.963 2.408v2.19c0 1.036-.313 1.854-.963 2.408s-1.565.843-2.793.843c-1.227 0-2.142-.29-2.792-.843m3.876-1.324c.265-.265.385-.626.385-1.107V16.77c0-.482-.12-.843-.385-1.107-.265-.265-.626-.386-1.108-.386-.481 0-.842.12-1.107.386-.265.264-.385.625-.385 1.107v2.19c0 .482.12.843.385 1.108s.626.385 1.108.385c.481.024.842-.12 1.107-.385M81.274 14.266c.482.482.722 1.204.722 2.119v5.633h-2.263v-5.417c0-.409-.096-.722-.313-.938q-.324-.362-.866-.362-1.155 0-1.661 1.373v5.344H74.63v-5.706c0-.313-.072-.577-.193-.77q-.18-.289-.65-.65l1.517-1.348c.36.192.674.385.866.602.217.216.386.457.506.746.24-.41.578-.722.987-.963.41-.24.915-.361 1.54-.361.891-.024 1.59.217 2.071.698M85.438 22.042c-.409-.12-.722-.289-.963-.506a5.7 5.7 0 0 1-.77-.866l1.396-1.204c.313.385.578.626.843.795.265.144.626.216 1.06.216.505 0 .866-.072 1.082-.192a.62.62 0 0 0 .338-.578c0-.265-.145-.457-.434-.602q-.433-.216-1.66-.433c-1.614-.313-2.432-1.204-2.432-2.673 0-.746.289-1.348.89-1.781.602-.433 1.373-.674 2.36-.674q1.227 0 1.95.361c.481.24.866.578 1.18 1.035l-1.397 1.204c-.313-.313-.578-.53-.819-.65a2.06 2.06 0 0 0-.914-.193c-.747 0-1.108.265-1.108.795 0 .24.12.433.385.553q.361.18.94.29c.722.168 1.3.336 1.709.505.433.169.77.433 1.059.794s.433.867.433 1.493c0 .843-.289 1.468-.89 1.878-.602.409-1.493.602-2.673.602-.65.024-1.18-.049-1.565-.169M93.238 11.643h-3.683V9.717h9.798v1.926h-3.66v10.376h-2.455zM106.431 14.025l-.554 1.902a2.8 2.8 0 0 0-.698-.36c-.217-.073-.482-.097-.819-.097-.77 0-1.324.505-1.661 1.54v5.008h-2.263v-5.706c0-.313-.072-.577-.192-.77q-.181-.289-.65-.65l1.516-1.348c.386.217.699.433.939.674.241.24.41.506.506.843.241-.458.529-.819.915-1.108.385-.265.842-.41 1.396-.41.626 0 1.156.17 1.565.482M115.171 20.213q.18.288.65.65l-1.517 1.348a4 4 0 0 1-.915-.626 2.25 2.25 0 0 1-.506-.795c-.529.963-1.372 1.469-2.479 1.469-.915 0-1.613-.24-2.119-.746-.505-.482-.746-1.204-.746-2.119v-5.633h2.263v5.416c0 .41.12.723.337.94q.326.36.939.36 1.155 0 1.661-1.516v-5.2h2.263v5.681c0 .313.048.554.169.77M118.493 22.042c-.409-.12-.722-.289-.963-.506a5.7 5.7 0 0 1-.77-.866l1.396-1.204c.313.385.578.626.843.795.264.144.626.216 1.059.216.505 0 .867-.072 1.083-.192a.62.62 0 0 0 .337-.578c0-.265-.144-.457-.433-.602q-.434-.216-1.661-.433c-1.613-.313-2.432-1.204-2.432-2.673 0-.746.289-1.348.891-1.781s1.372-.674 2.359-.674q1.228 0 1.95.361c.482.24.867.578 1.18 1.035l-1.396 1.204c-.313-.313-.578-.53-.819-.65a2.1 2.1 0 0 0-.915-.193c-.746 0-1.107.265-1.107.795 0 .24.12.433.385.553q.362.18.939.29c.722.168 1.3.336 1.709.505.434.169.771.433 1.06.794.288.361.433.867.433 1.493 0 .843-.289 1.468-.891 1.878s-1.492.602-2.672.602a5 5 0 0 1-1.565-.169M127.641 15.518v3.419c0 .481.072.842.216 1.035s.41.289.771.289H130v1.757h-1.372c-.819 0-1.445-.096-1.926-.289a1.88 1.88 0 0 1-1.011-.963c-.217-.433-.313-1.059-.313-1.83v-6.475c0-.313-.072-.578-.193-.77q-.18-.29-.65-.65l1.517-1.349c.602.313 1.011.65 1.228 1.036.24.385.337.938.337 1.637v1.348h2.359v1.805z"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"vision_svg__a",x1:0,x2:30.129,y1:16,y2:16,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#DBFFAA"}),(0,r.jsx)("stop",{offset:.439,stopColor:"#08FFAD"}),(0,r.jsx)("stop",{offset:1,stopColor:"#00A2AE"})]})})]}),V="io.cozy.dataviewer.settings.onboarding",G=class{async isOnboardingDone(){let{data:e}=await this.client.query((0,s.Q)("io.cozy.dataviewer.settings").getById(V));return!!(null==e?void 0:e.done)}async markOnboardingDone(){await this.client.save({_id:V,_type:"io.cozy.dataviewer.settings",done:!0})}async resetOnboarding(){await this.client.save({_id:V,_type:"io.cozy.dataviewer.settings",done:!1})}constructor(e){this.client=e}},K=()=>{var e;let t=(0,s.useClient)(),[n,o]=(0,i.useState)(!1),[l,a]=(0,i.useState)(!1),[c,d]=(0,i.useState)(null),u=(0,i.useMemo)(()=>new G(t),[t]);(0,i.useEffect)(()=>{(async()=>{await u.isOnboardingDone()&&a(!0)})()},[t,u]),(0,i.useEffect)(()=>{(async()=>{let{data:e}=await t.query((0,s.Q)("io.cozy.triggers").where({worker:"service",type:"@webhook"}));console.info("Webhook receiver url",e.find(e=>"learningRecordsReceiver"===e.message.name&&"dataviewer"===e.message.slug).links.webhook),d(e.find(e=>"webhookReceiver"===e.message.name&&"dataviewer"===e.message.slug))})()},[t]),(0,i.useEffect)(()=>{let e=t.plugins.realtime,n=async()=>{o(!1),a(!0),await u.markOnboardingDone()};return e.subscribe("notified","io.cozy.jobs","PDI_OK",n),()=>{e.unsubscribe("notified","io.cozy.jobs","PID_OK",n)}},[t,u]);let h=null==c?void 0:null===(e=c.links)||void 0===e?void 0:e.webhook,v=h?`https://pdi.visionstrust.com/auth?webhook=${encodeURIComponent(h)}`:null;return(0,r.jsxs)("div",{className:"u-flex u-flex-justify-center u-flex-items-center",style:{height:"80vh"},children:[n&&h&&(0,r.jsx)("iframe",{src:v,style:{width:"100%",height:"100%",border:"none",maxWidth:"1200px",maxHeight:"80vh",margin:"1rem"},title:"Configuration iframe"}),!n&&(0,r.jsxs)(E.Z,{spacing:"s",align:"center",children:[!l&&(0,r.jsx)(L.default,{label:"",variant:"primary",startIcon:(0,r.jsx)(z.default,{icon:Q,size:96}),onClick:()=>{o(!0),a(!1)},size:"large"}),l&&(0,r.jsx)(D.default,{variant:"h4",color:"success",children:"Configuration termin\xe9e"})]})]})},Y=()=>(0,r.jsx)(D.default,{variant:"h3",children:"Default page"}),X=()=>{let e=(0,x.default)("dataviewer.plrs"),t=(0,s.useClient)(),[n,o]=(0,i.useState)(!1),[l,a]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{(async()=>{if(e){let e=new G(t);o(await e.isOnboardingDone())}a(!1)})()},[t,e]),l)?null:e?n?(0,r.jsx)(S.HashRouter,{children:(0,r.jsx)(O.Z5,{children:(0,r.jsxs)(O.AW,{element:(0,r.jsx)(A,{}),children:[(0,r.jsx)(O.AW,{path:"/doctype/:doctype",element:(0,r.jsx)(T,{})}),(0,r.jsx)(O.AW,{path:"*",element:(0,r.jsx)(O.Fg,{replace:!0,to:"/doctype/io.cozy.learningrecords"})})]})})}):(0,r.jsx)(S.HashRouter,{children:(0,r.jsx)(O.Z5,{children:(0,r.jsxs)(O.AW,{element:(0,r.jsx)(A,{}),children:[(0,r.jsx)(O.AW,{path:"/onboarding_vision",element:(0,r.jsx)(K,{})}),(0,r.jsx)(O.AW,{path:"*",element:(0,r.jsx)(O.Fg,{replace:!0,to:"/onboarding_vision"})})]})})}):(0,r.jsx)(S.HashRouter,{children:(0,r.jsx)(O.Z5,{children:(0,r.jsxs)(O.AW,{element:(0,r.jsx)(A,{}),children:[(0,r.jsx)(O.AW,{path:"/welcome",element:(0,r.jsx)(Y,{})}),(0,r.jsx)(O.AW,{path:"/onboarding_vision",element:(0,r.jsx)(K,{})}),(0,r.jsx)(O.AW,{path:"/doctype/:doctype",element:(0,r.jsx)(T,{})}),(0,r.jsx)(O.AW,{path:"*",element:(0,r.jsx)(O.Fg,{replace:!0,to:"/welcome"})})]})})})},ee=()=>{let{root:e,client:t,lang:n,polyglot:i}=w();e.render((0,r.jsx)(v,{client:t,lang:n,polyglot:i,children:(0,r.jsx)(X,{})}))};document.addEventListener("DOMContentLoaded",()=>{ee()})},36633:function(){},71169:function(){},17770:function(){},47936:function(){},39322:function(){},46952:function(e){"use strict";e.exports=JSON.parse('{"nav":{"welcome":"Bienvenue","contacts":"Contacts"}}')},45413:function(e){"use strict";e.exports=JSON.parse('{"nav":{"welcome":"Welcome","contacts":"Contacts"}}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i||"object"==typeof r&&r&&(4&i&&r.__esModule||16&i&&"function"==typeof r.then))return r;var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var l=2&i&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(function(e){s[e]=function(){return r[e]}});return s.default=function(){return r},n.d(o,s),o}})(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},(()=>{var e=[];n.O=function(t,r,i,o){if(r){o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[r,i,o];return}for(var l=1/0,s=0;s<e.length;s++){for(var r=e[s][0],i=e[s][1],o=e[s][2],a=!0,c=0;c<r.length;c++)(!1&o||l>=o)&&Object.keys(n.O).every(function(e){return n.O[e](r[c])})?r.splice(c--,1):(a=!1,o<l&&(l=o));if(a){e.splice(s--,1);var d=i();void 0!==d&&(t=d)}}return t}})(),n.p="/",n.rv=function(){return"1.2.5"},(()=>{var e={909:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,o,s=r[0],l=r[1],a=r[2],c=0;if(s.some(function(t){return 0!==e[t]})){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(a)var d=a(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},r=self.webpackChunkdataviewer=self.webpackChunkdataviewer||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.ruid="bundler=rspack@1.2.5";var r=n.O(void 0,["465","361","118","460"],function(){return n(63338)});r=n.O(r)})();